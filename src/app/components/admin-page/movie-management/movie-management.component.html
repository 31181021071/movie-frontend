<div class="d-flex flex-column">
    <div>
        <form (ngSubmit)="onSearch()" #searchForm="ngForm" class="mb-3">
            <div class="row mb-3">
                <div class="col-1 d-flex align-items-center justify-content-end">
                    <label for="movieName">Movie name: </label>
                </div>
                <div class="col-3">
                    <input id="movieName" type="text" pInputText [(ngModel)]="searchCondition.movieName" name="movieName" class="w-100" />
                </div>
                <div class="col-1 d-flex align-items-center justify-content-end">
                    <label for="country">Country: </label>
                </div>
                <div class="col-3">
                    <p-multiSelect id="country" [options]="listCountry" [(ngModel)]="searchCondition.country" optionLabel="codeName" optionValue="code" name="country" styleClass="w-100"></p-multiSelect>
                </div>
                <div class="col-1 d-flex align-items-center justify-content-end">
                    <label for="releaseYear">Release Year: </label>
                </div>
                <div class="col-3">
                    <p-multiSelect id="releaseYear" [options]="listReleaseYear" [(ngModel)]="searchCondition.releaseYear" optionLabel="label" optionValue="value" name="releaseYear" styleClass="w-100"></p-multiSelect>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-1 d-flex align-items-center justify-content-end">
                    <label for="ratingFrom">Rating From: </label>
                </div>
                <div class="col-3">
                    <p-inputNumber class="w-100" [(ngModel)]="searchCondition.ratingFrom" inputId="ratingTo" mode="decimal" [minFractionDigits]="1" [maxFractionDigits]="1" name="ratingFrom" [min]="0" [max]="10"> 
                    </p-inputNumber>
                </div>
                <div class="col-1 d-flex align-items-center justify-content-end">
                    <label for="ratingTo">Rating To: </label>
                </div>
                <div class="col-3">
                    <p-inputNumber class="w-100" [(ngModel)]="searchCondition.ratingTo" inputId="ratingTo" mode="decimal" [minFractionDigits]="1" [maxFractionDigits]="1" name="ratingTo" [min]="0" [max]="10"> 
                    </p-inputNumber>
                </div>
            </div>
            <div class="d-flex align-items-center gap-3 justify-content-end">
                <button pButton type="submit" label="Search" icon="pi pi-search"></button>
                <button (click)="onClear()" pButton type="button" label="Clear" class="p-button-danger" icon="pi pi pi-times"></button>
              </div>
          </form>
    </div>
    <div class="d-flex justify-content-between m-3">
        <p-paginator [rows]="size" [totalRecords]="totalMovieSearch" (onPageChange)="onChangePage($event)"></p-paginator>
        <button type="button" (click)="openDialogDetail()" pButton icon="pi pi-plus-circle" label="New"></button>
    </div>
    <div>
        <p-table [value]="movieList" [tableStyle]="{'min-width': '50rem'}">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width: 10%;">ID</th>
                    <th style="width: 50%;">Movie name</th>
                    <th style="width: 10%;">Country</th>
                    <th style="width: 10%;">Release Year</th>
                    <th style="width: 10%;">Rating</th>
                    <th style="width: 10%;">Action</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-movie>
                <tr>
                    <td style="width: 10%;">{{movie.id}}</td>
                    <td style="width: 50%;">{{movie.movieName}}</td>
                    <td style="width: 10%;">{{movie.country}}</td>
                    <td style="width: 10%;">{{movie.releaseYear}}</td>
                    <td style="width: 10%;">{{movie.rating}}</td>
                    <td style="width: 10%;"><button type="button" (click)="openDialogDetail(movie)" pButton icon="pi pi-pencil" label="Edit"></button></td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

